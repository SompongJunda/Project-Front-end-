<div
  id="carouselExampleIndicators"
  class="carousel slide"
  data-bs-ride="carousel"
>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img
        src="https://media-cdn.bnn.in.th/405110/AcerWeeklyDeal-2000x720-170624_230624-homepage_desktop_banner_medium.jpg"
        class="d-block w-100"
        alt="Acer Weekly Deal"
      />
    </div>
    <div class="carousel-item">
      <img
        src="https://media-cdn.bnn.in.th/405041/AsusBrandFair-2000x720-160624-300624-homepage_desktop_banner_medium.jpg"
        class="d-block w-100"
        alt="Asus Brand Fair"
      />
    </div>
    <div class="carousel-item">
      <img
        src="https://media-cdn.bnn.in.th/370813/ClaimAMDNotebook-1752x640-010224_310324-category_banner_medium.jpg"
        class="d-block w-100"
        alt="Asus Brand Fair"
      />
    </div>
  </div>
  <button
    class="carousel-control-prev"
    type="button"
    data-bs-target="#carouselExampleIndicators"
    data-bs-slide="prev"
  >
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button
    class="carousel-control-next"
    type="button"
    data-bs-target="#carouselExampleIndicators"
    data-bs-slide="next"
  >
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<!-- HTML Template -->
<div
  id="carouselExampleIndicators"
  class="carousel slide"
  data-bs-ride="carousel"
>
  <!-- Carousel content remains the same -->
</div>

<div class="d-flex align-items-center justify-content-between pt-4">
  <h2 class="product-name mb-0">สินค้าทั้งหมด</h2>

  <div class="card-body p-3">
    <div
      class="input-group input-group-lg"
      style="
        width: 600px;
        margin-left: auto;
        box-shadow: 0 10px 10px rgba(0, 0, 0, 0.1);
      "
    >
      <input
        type="text"
        class="form-control rounded-start"
        placeholder="ค้นหาสินค้าที่ต้องการ"
        aria-label="Type Keywords"
        aria-describedby="search-icon"
        [(ngModel)]="searchText"
        (input)="searchProduct()"
      />
    </div>
  </div>
</div>

<!-- <div class="product-container pt-4">
  <div *ngFor="let product of filteredProductList" class="product-card">
    <div class="product-link" (click)="setSelectedProduct(product)">
   
    </div>
  </div>
</div> -->

<div class="product-container pt-4">
  <div *ngFor="let product of filteredProductList" class="product-card">
    <div class="product-link" (click)="setSelectedProduct(product)">
      <div>
        <div class="card" data-bs-toggle="modal" data-bs-target="#exampleModal">
          <div class="image-container">
            <span class="product-discount-label">NEW</span>
            <img
              *ngIf="product.imgList.length > 0"
              [src]="product.imgList[0]"
              class="product-image thumbnail-image"
            />
          </div>
        </div>
        <div class="product-description">
          <h6 class="product-name">{{ product.productName }}</h6>
          <p class="product-author">{{ product.productDesc }}</p>
        </div>
      </div>
    </div>
    <div class="product-details">
      <div class="product-price">
        <span class="text-secondary text-xl font-weight-bold">
          {{ product.price | currency : "฿ " }}
        </span>
        <span class="text-secondary text-x font-weight-bold">{{
          product.quantity
        }}</span>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div
  class="modal fade pt-8"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
  *ngFor="let product of productList"
>
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5
          class="modal-title"
          style="font-size: 30px; font-weight: bold"
          id="exampleModalLabel"
        >
          {{ selectedProduct?.productName }}
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <!-- เเบ่งหน้า -->
          <!-- <div class="col-lg-8"> -->
          <div
            id="carouselExampleIndicators"
            class="carousel slide"
            data-bs-ride="carousel"
          >
            <div class="carousel-indicators">
              <ng-container
                *ngFor="let img of selectedProduct?.imgList; let i = index"
              >
                <button
                  type="button"
                  data-bs-target="#carouselExampleIndicators"
                  [attr.data-bs-slide-to]="i"
                  [class.active]="i === 0"
                  aria-current="i === 0"
                  [attr.aria-label]="'Slide ' + (i + 1)"
                ></button>
              </ng-container>
            </div>

            <div
              id="carouselExampleControls"
              class="carousel slide"
              data-bs-interval="false"
            >
              <div class="carousel-inner">
                <div
                  *ngFor="let img of selectedProduct?.imgList; let i = index"
                  class="carousel-item"
                  [ngClass]="{ active: i === 0 }"
                >
                  <img [src]="img" class="d-block" />
                </div>
              </div>
              <a
                class="carousel-control-prev"
                href="#carouselExampleControls"
                role="button"
                data-bs-slide="prev"
              >
                <span
                  class="carousel-control-prev-icon"
                  aria-hidden="true"
                ></span>
                <span class="visually-hidden">Previous</span>
              </a>
              <a
                class="carousel-control-next"
                href="#carouselExampleControls"
                role="button"
                data-bs-slide="next"
              >
                <span
                  class="carousel-control-next-icon"
                  aria-hidden="true"
                ></span>
                <span class="visually-hidden">Next</span>
              </a>
            </div>
          </div>
          <p style="font-size: 20px">{{ selectedProduct?.productDesc }}</p>
          <p class="" style="font-size: 30px; font-weight: bold">
            {{ selectedProduct?.price | currency : "฿ " }}
          </p>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-dark btn-lg"
          style="font-weight: bold"
          (click)="addtoCart(selectedProduct)"
        >
          เพิ่มเข้าตะกร้า
        </button>
      </div>
    </div>
  </div>
</div>
